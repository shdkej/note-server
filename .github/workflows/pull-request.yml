name: Pull Request
on:
  push:
    branches: [ feature/* ]

jobs:
  build:
    name: Build
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2

    - name: use nodejs 14
      uses: actions/setup-node@v2
      with:
        node-version: '14'

    - name: standard versioning
      run: |
        npm i -g standard-version
        git config --global user.email "shdkej@github.com"
        git config --global user.name "shdkej"
        standard-version

    - name: pull-request
      uses: repo-sync/pull-request@v2
      with:
        destination_branch: "master"
        github_token: ${{ secrets.GITHUB_TOKEN }}
        pr_title: "${{ github.ref }} into master"
        pr_body: ":robot: need template"
        pr_label: "auto-pr"
